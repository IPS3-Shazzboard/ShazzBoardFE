<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="navbar-brand">
    <a class="navbar-item" href="#">ShazzBoard</a>
  </div>
  <div id="navbarMenu" class="navbar-menu">
    <div class="navbar-start">
      <a
        class="navbar-item"
        (click)="openManualAddSongModal()"
        *ngIf="auth.user$ | async as user"
      >
        Add song (manual)
      </a>
    </div>
    <div class="navbar-end">
      <div class="navbar-item">
        <app-user-profile></app-user-profile>
      </div>
      <div class="buttons">
        <!-- <a class="button is-primary"> Sign up </a> -->
        <!-- <a class="button is-light"> Log in </a> -->
        <app-auth-button></app-auth-button>
      </div>
    </div>
  </div>
</nav>

<div class="song-container" *ngIf="auth.user$ | async as user; else loggedOut">
  <app-modal
    [songId]="songId"
    [songName]="songName"
    [songArtist]="songArtist"
    [songDuration]="songDuration"
    [songCoverArt]="songCoverArt"
  ></app-modal>
  <div
    *ngFor="let song of songs"
    class="song-card"
    (click)="openSongInfoModal(song)"
  >
    <div class="song-card-image-container">
      <img class="song-card-image" src="{{ song.coverArt }}" />
    </div>
    <div class="song-description-container">
      <div class="song-title">{{ song.name }}</div>
      <div class="song-artist">{{ song.artist }}</div>
      <div class="song-duration">
        <small class="text-muted">{{ song.duration }}</small>
      </div>
    </div>
  </div>
</div>

<ng-template #loggedOut>
  <div class="not-logged-in-text">Please log in first.</div></ng-template
>

<router-outlet></router-outlet>
<app-manual-add-song-modal></app-manual-add-song-modal>
